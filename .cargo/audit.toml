# Cargo audit configuration
# See: https://github.com/rustsec/rustsec/tree/main/cargo-audit

[advisories]
# Ignore advisories for vulnerabilities in transitive dependencies
# These are dependencies of dependencies that we cannot directly update
ignore = [
    # rustls-pemfile 1.0.x is unmaintained - comes from reqwest 0.11.x
    # Tracked: We'll update when reqwest 0.12.x stabilizes
    "RUSTSEC-2025-0134",

    # paste 1.0.15 is unmaintained - comes from sqlx 0.7.x
    # Tracked: Waiting for sqlx to update their dependency
    "RUSTSEC-2024-0436",

    # http 0.2.x is unmaintained - comes from meilisearch-sdk, wiremock
    # Tracked: These crates need to migrate to http 1.x
    "RUSTSEC-2024-0421",

    # instant is unmaintained - comes from meilisearch-sdk via isahc
    # Tracked: Waiting for upstream crates to update
    "RUSTSEC-2024-0384",

    # rsa 0.9.x has a timing sidechannel vulnerability - from sqlx-mysql
    # No fix available yet, and we're using PostgreSQL not MySQL
    # This dependency is pulled in by sqlx even with only postgres feature
    "RUSTSEC-2023-0071",

    # GTK3 bindings are unmaintained - from tauri for Linux desktop support
    # These are transitive dependencies of Tauri and not actual vulnerabilities
    # Tauri team is aware and working on GTK4 migration
    "RUSTSEC-2024-0413",  # atk
    "RUSTSEC-2024-0414",  # atk-sys
    "RUSTSEC-2024-0415",  # gdk
    "RUSTSEC-2024-0416",  # gdk-pixbuf
    "RUSTSEC-2024-0417",  # gdk-pixbuf-sys
    "RUSTSEC-2024-0418",  # gdk-sys
    "RUSTSEC-2024-0419",  # gdkx11
    "RUSTSEC-2024-0420",  # gdkx11-sys
    "RUSTSEC-2024-0422",  # gtk
    "RUSTSEC-2024-0423",  # gtk-sys
    "RUSTSEC-2024-0424",  # gtk3-macros
    "RUSTSEC-2024-0425",  # javascriptcore-rs
    "RUSTSEC-2024-0426",  # javascriptcore-rs-sys
    "RUSTSEC-2024-0427",  # soup2
    "RUSTSEC-2024-0428",  # soup2-sys
    "RUSTSEC-2024-0429",  # webkit2gtk
    "RUSTSEC-2024-0430",  # webkit2gtk-sys

    # fxhash is unmaintained - from tauri via wry/kuchikiki/selectors
    # Used for CSS selector matching in webview rendering
    "RUSTSEC-2025-0057",  # fxhash
]

# Treat warnings as non-fatal (don't fail the build for warnings)
informational_warnings = ["unmaintained"]
